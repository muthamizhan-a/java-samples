<head>
<title>TCP Socket test</title>

<script type="text/javascript" src="java_socket_bridge.js"></script>
<script type="text/javascript">
	var host = 'localhost';
	var port = 1234;

	function connect() {
		socket_connect(host, port);
		alert("connected");
	}

	function send() {
		var mail = document.getElementById("mail").value;
		socket_send(mail);
	}

	function on_socket_get(message) {
		if(message=="Faild")
			alert("Authentication failure, Please provide valid mail address.");
		else
		document.getElementById('result').innerHTML += message;
	}
	function disconnect() {
		socket_disconnect();
		alert("Socket connection disconnected successfully...");
	}
</script>
</head>

<body>
	E-mail
	<input type="text" id="mail" name="mail">
	<br>
	<button onclick="connect()">Connect</button>
	<button onclick="send()">Send request</button>
	<button onclick="disconnect()">Disconnect</button>
	<div>
		<applet id="JavaSocketBridge" archive="JavaSocketBridge.jar"
			code="JavaSocketBridge.class" width="1" height="1"></applet>
	</div>
	<div id="result"></div>
</body>
</html>